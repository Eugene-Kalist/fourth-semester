<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Рабочий график</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{font-family:Montserrat,sans-serif;background:#f0f0f0;margin:0;padding:16px}
h1{text-align:center;margin-bottom:44px;font-size:22px}
.wrapper{max-width:980px;margin:0 auto}
.top-bar{position:relative;display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.week-info{position:absolute;left:50%;transform:translateX(-50%);font-size:14px;font-weight:600;text-align:center;line-height:1.3}
.nav-btn{background:transparent;border:2px solid rgba(0,0,0,.25);border-radius:14px;padding:6px 14px;font-size:13px;cursor:pointer;transition:transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease}
.nav-btn:hover{background:rgba(255,255,255,.35);border-color:rgba(0,0,0,.35);transform:translateY(-1px);background:rgba(255,255,255,.25)}
.nav-btn:focus-visible{outline:3px solid rgba(239,83,80,.45);outline-offset:2px}
.viewport{overflow:hidden}
.month{margin-bottom:0;border:1px solid rgba(0,0,0,.08);background:#fff;border-radius:20px;padding:18px;touch-action:pan-y;width:33.333%;box-sizing:border-box}
.grid{display:flex;flex-direction:column;gap:12px;margin-bottom:0}
.cell{border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:14px;min-height:90px}
.header{border-bottom:1px solid rgba(0,0,0,.15);margin-bottom:6px;padding-bottom:4px}
.day-title{font-size:16px;font-weight:700}
.date-line{font-size:13px;font-weight:600;color:#555}
.desc{margin-top:6px;font-size:15px;font-weight:600}
.fulloff{background:linear-gradient(180deg,#ededed,#f8f8f8)}
.off{background:transparent}
.work{background:linear-gradient(180deg,#d9f5e8,#f3fcf8)}
.remote{background:transparent}
.today{}
.slider{display:flex;width:300%;transform:translateX(-33.333%);transition:transform .35s ease
  align-items:flex-start;
}

/* Hover animation for day cards отключена */
.cell{transition:none;}
.cell:hover{transform:none;filter:none;}

.cell .date{color:#000 !important;}
.cell .day{color:#000 !important;}
.cell span{color:#000;}
.date-line{color:#000 !important;}

/* Работа/Учёба */
.desc{color:#000}
.desc .sec{padding-top:14px;margin-top:14px;border-top:1px solid rgba(0,0,0,.10)}
.desc .sec:first-child{border-top:0;margin-top:0;padding-top:0}
.sec-title{font-weight:700;letter-spacing:.02em;margin-bottom:6px;font-size:11.5px;color:#000}
.sec-text{font-size:11.5px;font-weight:600;color:#000}

/* Цвета */
.study{background:linear-gradient(180deg,#e7f0ff,#f6f9ff)}
.workstudy{background:linear-gradient(180deg,#efe3ff,#faf7ff)}

/* Анимация сегодняшнего дня */
.today{
  background-size:300% 300% !important;
  animation:todayMove 18s ease-in-out infinite;
}
@keyframes todayMove{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
.today::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:linear-gradient(90deg, rgba(255,255,255,.0), rgba(255,255,255,.35), rgba(255,255,255,.0));
  background-size:200% 100%;
  animation:todayMove 12s linear infinite;
  pointer-events:none;
}
.cell{position:relative;overflow:hidden}

/* Мобильная адаптация */
@media (max-width: 720px){
  .nav-btn{display:none !important;}
  .top-bar{justify-content:center}
  .week-info{position:static;transform:none}
}
</style>
</head>
<body>

<h1>Рабочий график</h1>

<div class="wrapper">
  <div class="top-bar">
    <button class="nav-btn" id="prevBtn" onclick="slideWeek(-1)">← Предыдущая неделя</button>
    <div class="week-info" id="weekInfo"></div>
    <button class="nav-btn" id="nextBtn" onclick="slideWeek(1)">Следующая неделя →</button>
  </div>

  <div class="viewport">
    <div class="slider" id="slider"></div>
  </div>
</div>

<script>
// === ГРАФИК ===
const scheduleWeek1 = {
  1:{cls:"work",work:"10:00–19:00"},
  2:{cls:"work",work:"09:00–14:00"},
  3:{cls:"work",work:"10:00–14:00"},
  4:{cls:"study",study:[{time:"10:45–18:15"}]},
  5:{cls:"study",study:[{time:"12:30–18:15"}]},
  6:{cls:"fulloff",text:"ВЫХОДНОЙ"},
  0:{cls:"fulloff",text:"ВЫХОДНОЙ"}
};

const scheduleWeek2 = {
  1:{cls:"work",work:"10:00–19:00"},
  2:{cls:"work",work:"10:00–19:00"},
  3:{cls:"work",work:"09:00–14:00"},
  4:{cls:"study",study:[{time:"10:45–16:30"}]},
  5:{cls:"study",study:[{time:"12:30–16:30"}]},
  6:{cls:"study",study:[{time:"12:30–16:30"}]},
  0:{cls:"fulloff",text:"ВЫХОДНОЙ"}
};

const YEAR = 2026;
const rangeStart = new Date(2026, 1, 2);
const rangeEnd = new Date(2026, 4, 31);
const start = new Date(rangeStart);
const today = new Date();
let currentDate = new Date(today);

function getSchedule(d){
  const diff=Math.floor((d-start)/(1000*60*60*24*7));
  const week = ((diff%2+2)%2===0) ? scheduleWeek1 : scheduleWeek2;
  return week[d.getDay()];
}

function format(d){
  return String(d.getDate()).padStart(2,"0")+"."+String(d.getMonth()+1).padStart(2,"0")+"."+d.getFullYear();
}

function cell(d){
  let info=getSchedule(d);
  const el=document.createElement("div");
  el.className="cell";

  if(info?.cls) el.classList.add(info.cls);
  if(d.toDateString()===today.toDateString()) el.classList.add("today");

  el.innerHTML =
    `<div class="header">
      <div class="day-title">${d.toLocaleDateString("ru",{weekday:"short"}).toUpperCase()}</div>
      <div class="date-line">${format(d)}</div>
    </div>
    <div class="desc">
      ${info?.work ? `<div class="sec"><div class="sec-title">РАБОТА</div><div class="sec-text">${info.work}</div></div>` : ""}
      ${info?.study ? `<div class="sec"><div class="sec-title">УЧЁБА</div><div class="sec-text">${info.study[0].time}</div></div>` : ""}
      ${info?.text ? `<div class="sec"><div class="sec-text">${info.text}</div></div>` : ""}
    </div>`;
  return el;
}

function render(){
  const slider=document.getElementById("slider");
  slider.innerHTML="";
  let monday=new Date(currentDate);
  monday.setDate(currentDate.getDate()-((currentDate.getDay()+6)%7));
  for(let i=0;i<7;i++){
    let d=new Date(monday);
    d.setDate(monday.getDate()+i);
    slider.appendChild(cell(d));
  }
}

render();
</script>
</body>
</html>
